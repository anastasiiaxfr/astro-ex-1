<div id="preloader" class="preloader">
	<div class="spinner"></div>
</div>

<script is:inline>
	window.addEventListener('load', () => {
		const preloader = document.getElementById('preloader');
		if (preloader) {
			preloader.style.display = 'none';
		}
	});

	document.addEventListener('astro:page-transition', () => {
		const preloader = document.getElementById('preloader');
		if (preloader) {
			preloader.style.display = 'flex';
		}
	});

	document.addEventListener('astro:page-load', () => {
		const preloader = document.getElementById('preloader');
		if (preloader) {
			preloader.style.display = 'none';
		}
	});
</script>

<style is:global>
	.preloader {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: var(--color-black-0);
		display: flex;
		justify-content: center;
		align-items: center;
		z-index: 100501;
	}

	.spinner {
		border: 4px solid rgba(255, 255, 255, 0.3);
		border-top: 4px solid var(--color-main);
		border-radius: 50%;
		width: 50px;
		height: 50px;
		animation: spin 1s linear infinite;
	}

	@keyframes spin {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(360deg);
		}
	}
</style>
